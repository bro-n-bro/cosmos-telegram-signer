"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[803],{1609:function(e,t,n){n.d(t,{ys:function(){return R},bQ:function(){return V}});n(4979);const a=(e,t)=>t.some((t=>e instanceof t));let o,s;function r(){return o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l(){return s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i=new WeakMap,u=new WeakMap,c=new WeakMap;function d(e){const t=new Promise(((t,n)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(g(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",s)}));return c.set(t,e),t}function p(e){if(i.has(e))return;const t=new Promise(((t,n)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)}));i.set(e,t)}let v={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function f(e){v=e(v)}function b(e){return l().includes(e)?function(...t){return e.apply(m(this),t),g(this.request)}:function(...t){return g(e.apply(m(this),t))}}function k(e){return"function"===typeof e?b(e):(e instanceof IDBTransaction&&p(e),a(e,r())?new Proxy(e,v):e)}function g(e){if(e instanceof IDBRequest)return d(e);if(u.has(e))return u.get(e);const t=k(e);return t!==e&&(u.set(e,t),c.set(t,e)),t}const m=e=>c.get(e);function y(e,t,{blocked:n,upgrade:a,blocking:o,terminated:s}={}){const r=indexedDB.open(e,t),l=g(r);return a&&r.addEventListener("upgradeneeded",(e=>{a(g(r.result),e.oldVersion,e.newVersion,g(r.transaction),e)})),n&&r.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),l.then((e=>{s&&e.addEventListener("close",(()=>s())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),l}const L=["get","getKey","getAll","getAllKeys","count"],h=["put","add","delete","clear"],w=new Map;function I(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=h.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!o&&!L.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,o?"readwrite":"readonly");let r=s.store;return a&&(r=r.index(t.shift())),(await Promise.all([r[n](...t),o&&s.done]))[0]};return w.set(t,s),s}f((e=>({...e,get:(t,n,a)=>I(t,n)||e.get(t,n,a),has:(t,n)=>!!I(t,n)||e.has(t,n)})));const x=["continue","continuePrimaryKey","advance"],D={},_=new WeakMap,B=new WeakMap,j={get(e,t){if(!x.includes(t))return e[t];let n=D[t];return n||(n=D[t]=function(...e){_.set(this,B.get(this)[t](...e))}),n}};async function*E(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,j);B.set(n,t),c.set(n,m(t));while(t)yield n,t=await(_.get(n)||t.continue()),_.delete(n)}function C(e,t){return t===Symbol.asyncIterator&&a(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&a(e,[IDBIndex,IDBObjectStore])}f((e=>({...e,get(t,n,a){return C(t,n)?E:e.get(t,n,a)},has(t,n){return C(t,n)||e.has(t,n)}})));const K=y("bro_db",1,{upgrade(e){e.objectStoreNames.contains("wallet")||e.createObjectStore("wallet")}});async function V(e,t){let n=await K;return n.get(e,t)}async function R(e,t){let n=await K,a=n.transaction(e,"readwrite"),o=a.objectStore(e);for(let[s,r]of t)await o.put(r,s);await a.done}},6951:function(e,t,n){n.d(t,{A:function(){return d}});var a=n(6768);const o={class:"loader_wrap"},s=(0,a.Lk)("div",{class:"loader"},[(0,a.Lk)("span")],-1),r=[s];function l(e,t){return(0,a.uX)(),(0,a.CE)("div",o,r)}var i=n(1241);const u={},c=(0,i.A)(u,[["render",l]]);var d=c},7803:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});n(4114);var a=n(6768),o=n(5130),s=n(4232),r=n(144),l=n(1387),i=n(1609),u=n(6951);const c=e=>((0,a.Qi)("data-v-4ed913f4"),e=e(),(0,a.jt)(),e),d={key:1,class:"page_container careate_pin_page"},p={class:"cont"},v=c((()=>(0,a.Lk)("div",{class:"page_title"},"Name your wallet",-1))),f=c((()=>(0,a.Lk)("span",null,"Back",-1))),b={class:"wallet_name"},k=c((()=>(0,a.Lk)("div",{class:"label"},"Wallet name:",-1))),g={class:"field"},m={class:"create_pin"},y=c((()=>(0,a.Lk)("div",{class:"label"},"Create pin:",-1))),L={class:"row"},h={class:"field"},w={class:"field"},I=["disabled"],x={class:"field"},D=["disabled"],_={class:"field"},B=["disabled"],j={class:"confirm_pin"},E=c((()=>(0,a.Lk)("div",{class:"label"},"Repeat pin:",-1))),C={class:"field"},K=["disabled"],V={class:"field"},R=["disabled"],S={class:"field"},J=["disabled"],P={class:"field"},U=["disabled"],A=c((()=>(0,a.Lk)("button",{class:"biometric_btn"},[(0,a.Lk)("span",null,"Turn on biometric security")],-1))),W={class:"btns"};var M={__name:"CreatePinPage",setup(e){const t=(0,l.rd)(),n=(0,r.KR)(!0),c=(0,r.KR)(""),M=(0,r.KR)(["","","",""]),O=(0,r.KR)(["","","",""]);function T(e,t){e.target.value.length>=1&&t<4&&e.target.closest(".row").querySelector(`.field:nth-child(${t+1}) input`).focus()}function $(e,t){setTimeout((()=>{0===e.target.value.length&&t>0&&e.target.closest(".row").querySelector(`.field:nth-child(${t}) input`).select()}))}(0,a.KC)((()=>{n.value=!1}));const q=(0,a.EW)((()=>M.value.join("")===O.value.join("")));async function N(){await(0,i.ys)("wallet",[["pin",M.value.join("")],["name",c.value]]),t.push("/wallet_created")}return(e,t)=>{const r=(0,a.g2)("router-link");return n.value?((0,a.uX)(),(0,a.Wv)(u.A,{key:0})):((0,a.uX)(),(0,a.CE)("section",d,[(0,a.Lk)("div",p,[v,(0,a.bF)(r,{to:"/create_wallet",class:"back_btn"},{default:(0,a.k6)((()=>[f])),_:1}),(0,a.Lk)("div",b,[k,(0,a.Lk)("div",g,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),placeholder:"name"},null,512),[[o.Jo,c.value]])])]),(0,a.Lk)("div",m,[y,(0,a.Lk)("div",L,[(0,a.Lk)("div",h,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>M.value[0]=e),maxlength:"1",onInput:t[2]||(t[2]=e=>T(e,1)),onKeydown:t[3]||(t[3]=(0,o.jR)((e=>$(e,0)),["backspace"]))},null,544),[[o.Jo,M.value[0]]])]),(0,a.Lk)("div",w,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>M.value[1]=e),maxlength:"1",disabled:!M.value[0].length,onInput:t[5]||(t[5]=e=>T(e,2)),onKeydown:t[6]||(t[6]=(0,o.jR)((e=>$(e,1)),["backspace"]))},null,40,I),[[o.Jo,M.value[1]]])]),(0,a.Lk)("div",x,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[7]||(t[7]=e=>M.value[2]=e),maxlength:"1",disabled:!M.value[1].length,onInput:t[8]||(t[8]=e=>T(e,3)),onKeydown:t[9]||(t[9]=(0,o.jR)((e=>$(e,2)),["backspace"]))},null,40,D),[[o.Jo,M.value[2]]])]),(0,a.Lk)("div",_,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[10]||(t[10]=e=>M.value[3]=e),maxlength:"1",disabled:!M.value[2].length,onInput:t[11]||(t[11]=e=>T(e,4)),onKeydown:t[12]||(t[12]=(0,o.jR)((e=>$(e,3)),["backspace"]))},null,40,B),[[o.Jo,M.value[3]]])])])]),(0,a.Lk)("div",j,[E,(0,a.Lk)("div",{class:(0,s.C4)(["row",{error:O.value[3].length&&!q.value,success:O.value[3].length&&q.value}])},[(0,a.Lk)("div",C,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[13]||(t[13]=e=>O.value[0]=e),maxlength:"1",disabled:!M.value[3].length,onInput:t[14]||(t[14]=e=>T(e,1)),onKeydown:t[15]||(t[15]=(0,o.jR)((e=>$(e,0)),["backspace"]))},null,40,K),[[o.Jo,O.value[0]]])]),(0,a.Lk)("div",V,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[16]||(t[16]=e=>O.value[1]=e),maxlength:"1",disabled:!O.value[0].length,onInput:t[17]||(t[17]=e=>T(e,2)),onKeydown:t[18]||(t[18]=(0,o.jR)((e=>$(e,1)),["backspace"]))},null,40,R),[[o.Jo,O.value[1]]])]),(0,a.Lk)("div",S,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[19]||(t[19]=e=>O.value[2]=e),maxlength:"1",disabled:!O.value[1].length,onInput:t[20]||(t[20]=e=>T(e,3)),onKeydown:t[21]||(t[21]=(0,o.jR)((e=>$(e,2)),["backspace"]))},null,40,J),[[o.Jo,O.value[2]]])]),(0,a.Lk)("div",P,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[22]||(t[22]=e=>O.value[3]=e),maxlength:"1",disabled:!O.value[2].length,onInput:t[23]||(t[23]=e=>T(e,4)),onKeydown:t[24]||(t[24]=(0,o.jR)((e=>$(e,3)),["backspace"]))},null,40,U),[[o.Jo,O.value[3]]])])],2)]),A,(0,a.Lk)("div",W,[(0,a.Lk)("button",{class:(0,s.C4)(["btn",{disabled:!O.value[3].length||!q.value}]),onClick:(0,o.D$)(N,["prevent"])},(0,s.v_)(e.$t("message.btn_next")),3)])])]))}}},O=n(1241);const T=(0,O.A)(M,[["__scopeId","data-v-4ed913f4"]]);var $=T}}]);
//# sourceMappingURL=803.0eaefd0b.js.map