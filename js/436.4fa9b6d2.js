"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[436],{1609:function(e,t,n){n.d(t,{ys:function(){return S},bQ:function(){return R}});n(4979);const a=(e,t)=>t.some((t=>e instanceof t));let s,r;function o(){return s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l=new WeakMap,i=new WeakMap,u=new WeakMap;function v(e){const t=new Promise(((t,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{t(f(e.result)),a()},r=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",r)}));return u.set(t,e),t}function d(e){if(l.has(e))return;const t=new Promise(((t,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{t(),a()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)}));l.set(e,t)}let k={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function p(e){k=e(k)}function b(e){return c().includes(e)?function(...t){return e.apply(g(this),t),f(this.request)}:function(...t){return f(e.apply(g(this),t))}}function _(e){return"function"===typeof e?b(e):(e instanceof IDBTransaction&&d(e),a(e,o())?new Proxy(e,k):e)}function f(e){if(e instanceof IDBRequest)return v(e);if(i.has(e))return i.get(e);const t=_(e);return t!==e&&(i.set(e,t),u.set(t,e)),t}const g=e=>u.get(e);function L(e,t,{blocked:n,upgrade:a,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),c=f(o);return a&&o.addEventListener("upgradeneeded",(e=>{a(f(o.result),e.oldVersion,e.newVersion,f(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),c.then((e=>{r&&e.addEventListener("close",(()=>r())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),c}const m=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],y=new Map;function h(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,s=w.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!s&&!m.includes(n))return;const r=async function(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let o=r.store;return a&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),s&&r.done]))[0]};return y.set(t,r),r}p((e=>({...e,get:(t,n,a)=>h(t,n)||e.get(t,n,a),has:(t,n)=>!!h(t,n)||e.has(t,n)})));const D=["continue","continuePrimaryKey","advance"],C={},E=new WeakMap,I=new WeakMap,B={get(e,t){if(!D.includes(t))return e[t];let n=C[t];return n||(n=C[t]=function(...e){E.set(this,I.get(this)[t](...e))}),n}};async function*x(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,B);I.set(n,t),u.set(n,g(t));while(t)yield n,t=await(E.get(n)||t.continue()),E.delete(n)}function $(e,t){return t===Symbol.asyncIterator&&a(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&a(e,[IDBIndex,IDBObjectStore])}p((e=>({...e,get(t,n,a){return $(t,n)?x:e.get(t,n,a)},has(t,n){return $(t,n)||e.has(t,n)}})));const K=L("bro_db",1,{upgrade(e){e.objectStoreNames.contains("wallet")||e.createObjectStore("wallet")}});async function R(e,t){let n=await K;return n.get(e,t)}async function S(e,t){let n=await K,a=n.transaction(e,"readwrite"),s=a.objectStore(e);for(let[r,o]of t)await s.put(o,r);await a.done}},5980:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});n(4114);var a=n(6768),s=n(4232),r=n(5130),o=n(144),c=n(4113),l=n(1387),i=n(8326),u=n(1981),v=n(1609),d=n(9114);const k=e=>((0,a.Qi)("data-v-69ace78b"),e=e(),(0,a.jt)(),e),p=c+"#ic_arrow_hor",b=c+"#ic_copy",_=c+"#ic_check",f={class:"page_container create_wallet_page"},g={class:"cont"},L={class:"page_title"},m={class:"page_data_wrap"},w={class:"page_data"},y=k((()=>(0,a.Lk)("svg",{class:"icon"},[(0,a.Lk)("use",{"xlink:href":p})],-1))),h={class:"tabs_wrap"},D={class:"mnemonic"},C={class:"row"},E={class:"input"},I={key:0,class:"blur"},B=["disabled"],x=k((()=>(0,a.Lk)("svg",{class:"icon"},[(0,a.Lk)("use",{"xlink:href":b})],-1))),$={key:0},K={key:1},R={key:0,class:"agree"},S={class:"label"},X={class:"checkbox"},j=k((()=>(0,a.Lk)("div",{class:"check"},[(0,a.Lk)("svg",{class:"icon"},[(0,a.Lk)("use",{"xlink:href":_})])],-1))),W={class:"label"},A={class:"checkbox"},P=k((()=>(0,a.Lk)("div",{class:"check"},[(0,a.Lk)("svg",{class:"icon"},[(0,a.Lk)("use",{"xlink:href":_})])],-1))),V={class:"btns"};var M={__name:"CreateWalletPage",setup(e){const t=(0,l.rd)(),n=(0,o.KR)(!0),c=(0,o.KR)(12),k=(0,o.KR)(null),p=(0,o.KR)(!1),b=(0,o.KR)(!1),_=(0,o.KR)(!1),{copy:M,copied:N,isSupported:Q}=(0,i.iDZ)(),O=(0,o.KR)([]),T=(0,o.KR)([]);async function F(){n.value=!0,await(0,v.ys)("wallet",[["secret",k.value.secret.data],["seed",k.value.seed]]),t.push("/create_wallet_confirm")}return(0,a.KC)((async()=>{k.value=await(0,u.NN)(c.value),O.value=Telegram.WebApp.initData,T.value=Telegram.WebApp.initDataUnsafe,n.value=!1})),(0,a.wB)((0,a.EW)((()=>c.value)),(async()=>{k.value=await(0,u.NN)(c.value)})),(e,t)=>{const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("section",f,[(0,a.Lk)("div",g,[(0,a.Lk)("div",L,(0,s.v_)(e.$t("message.create_wallet_title")),1),(0,a.Lk)("pre",null,(0,s.v_)(O.value),1),(0,a.eW)(" =================== "),(0,a.Lk)("pre",null,(0,s.v_)(T.value),1),(0,a.Lk)("div",m,[(0,a.Lk)("div",w,[n.value?((0,a.uX)(),(0,a.Wv)(d.A,{key:0})):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(l,{class:"back_btn",to:"/"},{default:(0,a.k6)((()=>[y])),_:1}),(0,a.Lk)("div",h,[(0,a.Lk)("div",{class:(0,s.C4)(["tabs",{disabled:!_.value}])},[(0,a.Lk)("button",{class:(0,s.C4)(["btn",{active:12===c.value}]),onClick:t[0]||(t[0]=(0,r.D$)((e=>c.value=12),["prevent"]))},[(0,a.Lk)("span",null,(0,s.v_)(e.$t("message.mnemonic_tab1")),1)],2),(0,a.Lk)("button",{class:(0,s.C4)(["btn",{active:24===c.value}]),onClick:t[1]||(t[1]=(0,r.D$)((e=>c.value=24),["prevent"]))},[(0,a.Lk)("span",null,(0,s.v_)(e.$t("message.mnemonic_tab2")),1)],2)],2)]),(0,a.Lk)("div",D,[(0,a.Lk)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(k.value.secret.data.split(" "),((e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:"word",key:t},[(0,a.Lk)("div",E,(0,s.v_)(e),1)])))),128)),_.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",I))]),(0,o.R1)(Q)?((0,a.uX)(),(0,a.CE)("button",{key:0,class:(0,s.C4)(["copy_btn",{green:(0,o.R1)(N)}]),disabled:!_.value,onClick:t[2]||(t[2]=(0,r.D$)((e=>(0,o.R1)(M)(k.value.secret.data)),["prevent"]))},[x,(0,o.R1)(N)?((0,a.uX)(),(0,a.CE)("span",K,(0,s.v_)(e.$t("message.btn_copied")),1)):((0,a.uX)(),(0,a.CE)("span",$,(0,s.v_)(e.$t("message.btn_copy")),1))],10,B)):(0,a.Q3)("",!0)]),_.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("div",null,[(0,a.Lk)("div",S,(0,s.v_)(e.$t("message.create_wallet_agree_label1")),1),(0,a.Lk)("label",X,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),value:"true"},null,512),[[r.lH,p.value]]),j,(0,a.Lk)("div",null,(0,s.v_)(e.$t("message.create_wallet_agree_checkbox1")),1)])]),(0,a.Lk)("div",null,[(0,a.Lk)("div",W,(0,s.v_)(e.$t("message.create_wallet_agree_label2")),1),(0,a.Lk)("label",A,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>b.value=e),value:"true"},null,512),[[r.lH,b.value]]),P,(0,a.Lk)("div",null,(0,s.v_)(e.$t("message.create_wallet_agree_checkbox2")),1)])])])),(0,a.Lk)("div",V,[_.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,class:(0,s.C4)(["btn",{disabled:!p.value||!b.value}]),onClick:t[5]||(t[5]=(0,r.D$)((e=>_.value=!0),["prevent"]))},[(0,a.Lk)("span",null,(0,s.v_)(e.$t("message.btn_show")),1)],2)),_.value?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"btn",onClick:(0,r.D$)(F,["prevent"])},[(0,a.Lk)("span",null,(0,s.v_)(e.$t("message.btn_next")),1)])):(0,a.Q3)("",!0)])],64))])])])])}}},N=n(1241);const Q=(0,N.A)(M,[["__scopeId","data-v-69ace78b"]]);var O=Q}}]);
//# sourceMappingURL=436.4fa9b6d2.js.map