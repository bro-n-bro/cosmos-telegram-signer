"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[185],{1609:function(e,t,n){n.d(t,{ys:function(){return R},bQ:function(){return V}});n(4979);const a=(e,t)=>t.some((t=>e instanceof t));let o,s;function l(){return o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r(){return s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i=new WeakMap,u=new WeakMap,c=new WeakMap;function d(e){const t=new Promise(((t,n)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(g(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",s)}));return c.set(t,e),t}function p(e){if(i.has(e))return;const t=new Promise(((t,n)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)}));i.set(e,t)}let v={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){v=e(v)}function f(e){return r().includes(e)?function(...t){return e.apply(m(this),t),g(this.request)}:function(...t){return g(e.apply(m(this),t))}}function k(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&p(e),a(e,l())?new Proxy(e,v):e)}function g(e){if(e instanceof IDBRequest)return d(e);if(u.has(e))return u.get(e);const t=k(e);return t!==e&&(u.set(e,t),c.set(t,e)),t}const m=e=>c.get(e);function y(e,t,{blocked:n,upgrade:a,blocking:o,terminated:s}={}){const l=indexedDB.open(e,t),r=g(l);return a&&l.addEventListener("upgradeneeded",(e=>{a(g(l.result),e.oldVersion,e.newVersion,g(l.transaction),e)})),n&&l.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),r.then((e=>{s&&e.addEventListener("close",(()=>s())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),r}const h=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],L=new Map;function I(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(L.get(t))return L.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=w.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!o&&!h.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,o?"readwrite":"readonly");let l=s.store;return a&&(l=l.index(t.shift())),(await Promise.all([l[n](...t),o&&s.done]))[0]};return L.set(t,s),s}b((e=>({...e,get:(t,n,a)=>I(t,n)||e.get(t,n,a),has:(t,n)=>!!I(t,n)||e.has(t,n)})));const x=["continue","continuePrimaryKey","advance"],D={},B=new WeakMap,_=new WeakMap,j={get(e,t){if(!x.includes(t))return e[t];let n=D[t];return n||(n=D[t]=function(...e){B.set(this,_.get(this)[t](...e))}),n}};async function*E(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,j);_.set(n,t),c.set(n,m(t));while(t)yield n,t=await(B.get(n)||t.continue()),B.delete(n)}function K(e,t){return t===Symbol.asyncIterator&&a(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&a(e,[IDBIndex,IDBObjectStore])}b((e=>({...e,get(t,n,a){return K(t,n)?E:e.get(t,n,a)},has(t,n){return K(t,n)||e.has(t,n)}})));const C=y("bro_db",1,{upgrade(e){e.objectStoreNames.contains("wallet")||e.createObjectStore("wallet")}});async function V(e,t){let n=await C;return n.get(e,t)}async function R(e,t){let n=await C,a=n.transaction(e,"readwrite"),o=a.objectStore(e);for(let[s,l]of t)await o.put(l,s);await a.done}},831:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});n(4114);var a=n(6768),o=n(5130),s=n(4232),l=n(144),r=n(1387),i=n(1981),u=n(1609),c=n(6951);const d=e=>((0,a.Qi)("data-v-2af385d6"),e=e(),(0,a.jt)(),e),p={key:1,class:"page_container careate_pin_page"},v={class:"cont"},b=d((()=>(0,a.Lk)("div",{class:"page_title"},"Name your wallet",-1))),f=d((()=>(0,a.Lk)("span",null,"Back",-1))),k={class:"wallet_name"},g=d((()=>(0,a.Lk)("div",{class:"label"},"Wallet name:",-1))),m={class:"field"},y={class:"create_pin"},h=d((()=>(0,a.Lk)("div",{class:"label"},"Create pin:",-1))),w={class:"row"},L={class:"field"},I={class:"field"},x=["disabled"],D={class:"field"},B=["disabled"],_={class:"field"},j=["disabled"],E={class:"confirm_pin"},K=d((()=>(0,a.Lk)("div",{class:"label"},"Repeat pin:",-1))),C={class:"field"},V=["disabled"],R={class:"field"},S=["disabled"],J={class:"field"},P=["disabled"],U={class:"field"},W=["disabled"],M=d((()=>(0,a.Lk)("button",{class:"biometric_btn"},[(0,a.Lk)("span",null,"Turn on biometric security")],-1))),A={class:"btns"};var O={__name:"CreatePinPage",setup(e){const t=(0,r.rd)(),n=(0,l.KR)(!0),d=(0,l.KR)(""),O=(0,l.KR)(["","","",""]),T=(0,l.KR)(["","","",""]);function $(e,t){e.target.value.length>=1&&t<4&&e.target.closest(".row").querySelector(`.field:nth-child(${t+1}) input`).focus()}function q(e,t){setTimeout((()=>{0===e.target.value.length&&t>0&&e.target.closest(".row").querySelector(`.field:nth-child(${t}) input`).select()}))}(0,a.KC)((()=>{n.value=!1}));const N=(0,a.EW)((()=>O.value.join("")===T.value.join("")));async function Q(){let e=await(0,i.Q1)();await(0,u.ys)("wallet",[["hmacKey",e],["pin",await(0,i.mK)(O.value.join(""),e)],["name",d.value]]),t.push("/wallet_created")}return(e,t)=>{const l=(0,a.g2)("router-link");return n.value?((0,a.uX)(),(0,a.Wv)(c.A,{key:0})):((0,a.uX)(),(0,a.CE)("section",p,[(0,a.Lk)("div",v,[b,(0,a.bF)(l,{to:"/create_wallet",class:"back_btn"},{default:(0,a.k6)((()=>[f])),_:1}),(0,a.Lk)("div",k,[g,(0,a.Lk)("div",m,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),placeholder:"name"},null,512),[[o.Jo,d.value]])])]),(0,a.Lk)("div",y,[h,(0,a.Lk)("div",w,[(0,a.Lk)("div",L,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>O.value[0]=e),maxlength:"1",onInput:t[2]||(t[2]=e=>$(e,1)),onKeydown:t[3]||(t[3]=(0,o.jR)((e=>q(e,0)),["backspace"]))},null,544),[[o.Jo,O.value[0]]])]),(0,a.Lk)("div",I,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>O.value[1]=e),maxlength:"1",disabled:!O.value[0].length,onInput:t[5]||(t[5]=e=>$(e,2)),onKeydown:t[6]||(t[6]=(0,o.jR)((e=>q(e,1)),["backspace"]))},null,40,x),[[o.Jo,O.value[1]]])]),(0,a.Lk)("div",D,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[7]||(t[7]=e=>O.value[2]=e),maxlength:"1",disabled:!O.value[1].length,onInput:t[8]||(t[8]=e=>$(e,3)),onKeydown:t[9]||(t[9]=(0,o.jR)((e=>q(e,2)),["backspace"]))},null,40,B),[[o.Jo,O.value[2]]])]),(0,a.Lk)("div",_,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[10]||(t[10]=e=>O.value[3]=e),maxlength:"1",disabled:!O.value[2].length,onInput:t[11]||(t[11]=e=>$(e,4)),onKeydown:t[12]||(t[12]=(0,o.jR)((e=>q(e,3)),["backspace"]))},null,40,j),[[o.Jo,O.value[3]]])])])]),(0,a.Lk)("div",E,[K,(0,a.Lk)("div",{class:(0,s.C4)(["row",{error:T.value[3].length&&!N.value,success:T.value[3].length&&N.value}])},[(0,a.Lk)("div",C,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[13]||(t[13]=e=>T.value[0]=e),maxlength:"1",disabled:!O.value[3].length,onInput:t[14]||(t[14]=e=>$(e,1)),onKeydown:t[15]||(t[15]=(0,o.jR)((e=>q(e,0)),["backspace"]))},null,40,V),[[o.Jo,T.value[0]]])]),(0,a.Lk)("div",R,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[16]||(t[16]=e=>T.value[1]=e),maxlength:"1",disabled:!T.value[0].length,onInput:t[17]||(t[17]=e=>$(e,2)),onKeydown:t[18]||(t[18]=(0,o.jR)((e=>q(e,1)),["backspace"]))},null,40,S),[[o.Jo,T.value[1]]])]),(0,a.Lk)("div",J,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[19]||(t[19]=e=>T.value[2]=e),maxlength:"1",disabled:!T.value[1].length,onInput:t[20]||(t[20]=e=>$(e,3)),onKeydown:t[21]||(t[21]=(0,o.jR)((e=>q(e,2)),["backspace"]))},null,40,P),[[o.Jo,T.value[2]]])]),(0,a.Lk)("div",U,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input","onUpdate:modelValue":t[22]||(t[22]=e=>T.value[3]=e),maxlength:"1",disabled:!T.value[2].length,onInput:t[23]||(t[23]=e=>$(e,4)),onKeydown:t[24]||(t[24]=(0,o.jR)((e=>q(e,3)),["backspace"]))},null,40,W),[[o.Jo,T.value[3]]])])],2)]),M,(0,a.Lk)("div",A,[(0,a.Lk)("button",{class:(0,s.C4)(["btn",{disabled:!T.value[3].length||!N.value}]),onClick:(0,o.D$)(Q,["prevent"])},(0,s.v_)(e.$t("message.btn_next")),3)])])]))}}},T=n(1241);const $=(0,T.A)(O,[["__scopeId","data-v-2af385d6"]]);var q=$}}]);
//# sourceMappingURL=185.03419529.js.map